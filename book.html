<!DOCTYPE html "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Google Books Embedded Viewer API Example</title>
    <link rel="stylesheet" href="./book.css" />
    <link rel="icon" href="logo.png">
    <script
      type="text/javascript"
      src="https://www.google.com/books/jsapi.js"
    ></script>
    <script type="text/javascript">
      google.books.load();
      function initialize() {
        var viewer = new google.books.DefaultViewer(
          document.getElementById("viewerCanvas")
        );
        var index = document.URL.indexOf("?");
        if (index > 0) {
          var bookIsbn = document.URL.substring(
            index,
            document.URL.length
          ).split("=")[1];
          console.log(bookIsbn);
        }
        //viewer.load("ISBN:0738531367"); //for test purpose
        viewer.load("ISBN:" + bookIsbn);
      }
      google.books.setOnLoadCallback(initialize);
    </script>
  </head>
  <body>
    <div class="toggle-container">
      <input type="checkbox" id="switch" name="theme" /><label for="switch">Toggle</label>
    <div class="container">
      
      <div
        class="text-center"
        id="viewerCanvas"
        style="width: 800px; height: 600px"
      ></div>
    </div>
    <script>
              var checkbox = document.querySelector('input[name=theme]');

checkbox.addEventListener('change', function() {
    if(this.checked) {
        trans()
        document.documentElement.setAttribute('data-theme', 'dark')
    } else {
        trans()
        document.documentElement.setAttribute('data-theme', 'light')
    }
})

let trans = () => {
    document.documentElement.classList.add('transition');
    window.setTimeout(() => {
        document.documentElement.classList.remove('transition')
    }, 1000)
}
    </script>
  </body>
</html>